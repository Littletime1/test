
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>无标题文档</title>
    <script>
        /*
         重用代码：
         1、尽量保证 HTML 代码结构一致，可以通过父级选取子元素
         2、把核心主程序实现，用函数包起来
         3、把每组里不同的值找出来，通过传参实现
         */
        window.onload = function (){
            var oUl = document.getElementById('list');
            var aLi = oUl.getElementsByTagName('li');
            for (var i = 0;i<aLi.length;i++){
                fun(aLi[i]);
            }



            function fun(obj) {  //某一个li
                var left = obj.getElementsByTagName("input")[0];
                var right = obj.getElementsByTagName("input")[1];
                var oS = obj.getElementsByTagName("strong")[0];
                var oEm = obj.getElementsByTagName("em")[0];
                var oSpan = obj.getElementsByTagName("span")[0];

                var count = Number(oS.innerHTML);  //0 1
                var pic = parseFloat(oEm.innerHTML);  //12.5
                left.onclick = function () {

                    count = count - 1;
                    if(count < 0){count = 0;};
                    oS.innerHTML = count;
                    oSpan.innerHTML = count * pic + "元";
                }
                right.onclick = function () {
                    count = count + 1;
                    oS.innerHTML = count;
                    oSpan.innerHTML = count * pic + "元";
                }
            }
        };



    </script>
</head>

<body>
<ul id="list">
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>12.5元</em>
        小计：<span>0元</span>
    </li>
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>10.5元</em>
        小计：<span>0元</span>
    </li>
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>8.5元</em>
        小计：<span>0元</span>
    </li>
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>8元</em>
        小计：<span>0元</span>
    </li>
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>14.5元</em>
        小计：<span>0元</span>
    </li>
    <li>
        <input type="button" value="-" />
        <strong>0</strong>
        <input type="button" value="+" />
        单价：<em>100元</em>
        小计：<span>0元</span>
    </li>
</ul>

<!--<p>-->
    <!--商品合计共：0件，共花费了：0元<br />-->
    <!--其中最贵的商品单价是：0元-->
<!--</p>-->
</body>
</html>
